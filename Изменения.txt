Внесенные изменения в проект:

1. Сразу прикрутил PostgreSQL (Когда будем работать с геоданными - поставим расширение postgis)
2. Поменял кодек на VP9 (можно рассмотреть еще Н265, но он, как гласит дока - платный, но вроде как можно наколоть систему (см. файл Codecs)
3. Ушел от subprocess в функциях конвертации и извлечения превью (разобрался почему сабпроцесс не есть гуд)
4. Разделил некоторые фукции, пришел к формату(или принципу) SRP
5. Добавил лог на измерение веса файлов
6. Собрана информация по самым распространенным кодекам для обработки видео и сведена в файл Codecs.txt.
   Два подходящих нам выведены в сравнительную таблицу и к ним добавлено более подробное описание
7. Длинну превью вывел в переменную, чтобы проще было потом подогнать по длительности как нам надо
8. Битрейт пока 2М, но руки чешутся 4-5 поставить чтобы качество 4К тянуло (надо это будет протестить на производительность)
9. Добавлены BackgroundTasks для управления задачами, которые будут выполняться в фоне. Использование background_tasks.add_task:
    задачи для конвертации видео, извлечения превью, загрузки в S3 и сохранения в базе данных. После того как задачи добавлены в фон,
    функция возвращает ответ клиенту без задержек, а все ресурсоемкие операции выполняются асинхронно. Тяжелые задачи варятся в фоне,
    клиент не ждет, а юзает нашу приложуху без ожидания и счастлив
    (Надо только потом какое то пуш уведомление прикрутить чтобы клиент видел что фоновые задачи отработали и видос залит)

PS:
После одобрения тобой этого модуля и когда приступлю к реализации функционала отдачи видео я по фен-шую разнесу
код по модулям и в main оставлю уже енпоинты только

В селери через воркер я так и не смог это все подвесить, обсудим на созвоне! По-моему перепровал все и даже чат ГПТ,
не работают в воркере асинхронные функции и все источники в голосину говорят нельзя так делать

Вообще надо бы твою консультацию по бэкграунд процессам как время  у тебя будет, надо уложить в голове,
тут помощь небольшая нужна от старшего наставника) Я разберусь с этим со временем, где то чутка опыта не хватает,
чувствую какую то мелочь не могу ухватить, истина где-то рядом)
