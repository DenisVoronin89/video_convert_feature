Последовательность выполнения

    Клиент отправляет файл через POST /upload_video/.
    FastAPI добавляет задачу в очередь Celery.
    Celery-задача:
        Конвертирует видео в формат H264 (FFmpeg).
        Создаёт превью (FFmpeg).
        Загружает файлы в S3.
        Сохраняет ссылки на видео и превью в базе данных.
    Клиент получает уведомление, что задача начата, а обработка происходит асинхронно.

Схема выполнения кода

[Клиент] -> (1) Отправка файла -> [FastAPI]
↓
(2) Добавление задачи в очередь Celery
↓
[Celery Worker]
├── (3.1) Конвертация видео (FFmpeg)
├── (3.2) Создание превью (FFmpeg)
├── (3.3) Загрузка файлов в S3 (boto3)
└── (3.4) Сохранение ссылок в БД
↓
[Клиент] <- (4) Уведомление: "Processing started"

